import { expect } from 'chai';

import { flexCalcBranchHash } from '../src';

describe('flex-sdk/flexCalcBranchHash', function () {
  it('Should calc hash of 0-length branch', function () {
    const hash = flexCalcBranchHash({
      leaf: '0x1111111111111111111111111111111111111111111111111111111111111111',
      branch: [],
    });
    expect(hash).equal('0x1111111111111111111111111111111111111111111111111111111111111111');
  });

  it('Should calc hash of 1-length branch', function () {
    const hash = flexCalcBranchHash({
      leaf: '0x1111111111111111111111111111111111111111111111111111111111111111',
      branch: [
        '0x2222222222222222222222222222222222222222222222222222222222222222', // 0x3e92e0db88d6afea9edc4eedf62fffa4d92bcdfc310dccbe943747fe8302e871
      ],
    });
    expect(hash).equal('0x3e92e0db88d6afea9edc4eedf62fffa4d92bcdfc310dccbe943747fe8302e871');
  });

  it('Should calc 2nd hash of 1-length branch', function () {
    const hash = flexCalcBranchHash({
      leaf: '0x2222222222222222222222222222222222222222222222222222222222222222',
      branch: [
        '0x1111111111111111111111111111111111111111111111111111111111111111', // 0x3e92e0db88d6afea9edc4eedf62fffa4d92bcdfc310dccbe943747fe8302e871
      ],
    });
    expect(hash).equal('0x3e92e0db88d6afea9edc4eedf62fffa4d92bcdfc310dccbe943747fe8302e871');
  });

  it('Should calc hash of 2-length branch', function () {
    const hash = flexCalcBranchHash({
      leaf: '0x1111111111111111111111111111111111111111111111111111111111111111',
      branch: [
        '0x2222222222222222222222222222222222222222222222222222222222222222', // 0x3e92e0db88d6afea9edc4eedf62fffa4d92bcdfc310dccbe943747fe8302e871
        '0x3333333333333333333333333333333333333333333333333333333333333333', // 0x87fbd8dad686d9536b2ef65757c3415df1b7a4664deb34eda3d91234936eb5fe
      ],
    });
    expect(hash).equal('0x87fbd8dad686d9536b2ef65757c3415df1b7a4664deb34eda3d91234936eb5fe');
  });

  it('Should calc hash of 8-length branch', function () {
    const hash = flexCalcBranchHash({
      leaf: '0x1111111111111111111111111111111111111111111111111111111111111111',
      branch: [
        '0x2222222222222222222222222222222222222222222222222222222222222222', // 0x3e92e0db88d6afea9edc4eedf62fffa4d92bcdfc310dccbe943747fe8302e871
        '0x3333333333333333333333333333333333333333333333333333333333333333', // 0x87fbd8dad686d9536b2ef65757c3415df1b7a4664deb34eda3d91234936eb5fe
        '0x4444444444444444444444444444444444444444444444444444444444444444', // 0xdcdb792ee23c01fdaf9949ee99ac95b415eb21ac9672687550e754de48525a39
        '0x5555555555555555555555555555555555555555555555555555555555555555', // 0xf2fb97c6865065b7752a507c1e1604e4682af32e67b2b7a755ab0e4b534f4244
        '0x6666666666666666666666666666666666666666666666666666666666666666', // 0x6d7eb1d02314244090db236172650b6f9bedcf8318574664e6c1b0e77c00e1f3
        '0x7777777777777777777777777777777777777777777777777777777777777777', // 0xb3c6bcacc5606462371aa9bab21047d237b05d2821603457351ed785fc2de43a
        '0x8888888888888888888888888888888888888888888888888888888888888888', // 0x6c722140be630ef3a9c4f6933218fc3658df99f0a95f7ef7b6d8305dfd8f7f48
        '0x9999999999999999999999999999999999999999999999999999999999999999', // 0x502f97db703023f3ec6654233c7612a1896ab7001baf9530aec9794fe56f35d0
      ],
    });
    expect(hash).equal('0x502f97db703023f3ec6654233c7612a1896ab7001baf9530aec9794fe56f35d0');
  });
});
